import { lazy, useState, Suspense, useEffect } from "react";
import "./output.css";
import "./index.css";
import { isMobile } from "./components/script.js";
import Features from "./components/Features";
import ScrollWatcher from "./components/ScrollWatcher";
import Hero from "./components/Hero";
import Tools from "./components/Tools";

const Project = lazy(() => import("./components/Project"));
const Footer = lazy(() => import("./components/Footer"));
const GithubContribution = lazy(() => import("./components/GithubContribution.jsx"));


function App() {
  const [showLoader, setShowLoader] = useState(true);
  const [showContent, setContentLoaded] = useState(false);

  useEffect(() => {
    import("./components/script.js");
    import("./components/Robot.js");
    import("./components/RobotCanvas.js");
  }, []);

  function HandleContentLoaded() {
    setTimeout(() => {
      setShowLoader(false);
      setContentLoaded(true);
    }, 3000);
  }

  return (
    <>
      <div
        className={`will-change-auto w-[100vw] h-[100vh] bg-[crimson] z-[100] fixed pointer-events-none ${
          !showLoader && showContent && "loader"
        }`}
      >
        <div className="flex justify-center relative h-[100vh] items-center">
         <svg xmlns="http://www.w3.org/2000/svg" className="custom-icon" viewBox="0 15.399999618530273 246.75 50" data-asc="1.058" width="300.75" height="50"><defs/><g ><g transform="translate(0, 0)"><path d="M21.20 43.85L29.90 18.85L26 18.85L26 17.90L33.65 17.90L33.65 18.85L31.30 18.85L19.25 53.40L15.05 53.40L2.30 18.85L0 18.85L0 17.90L16.35 17.90L16.35 18.85L12.80 18.85L21.20 43.85ZM43.60 53.40Q37.15 53.40 33.93 50.08Q30.70 46.75 30.70 40.83Q30.70 34.90 34.33 31.75Q37.95 28.60 43.55 28.60Q54.90 28.60 54.45 40.00L40.35 40.00L40.35 41.95Q40.35 46.85 41.60 49.35Q42.85 51.85 45.95 51.85Q51.75 51.85 53.55 45.65L54.45 45.80Q53.50 49.40 51.03 51.40Q48.55 53.40 43.60 53.40M40.40 39.00L45.55 39.00L45.55 36.55Q45.55 32.50 45.08 31.03Q44.60 29.55 43.18 29.55Q41.75 29.55 41.08 31.13Q40.40 32.70 40.40 36.55L40.40 39.00ZM66.40 42.55Q66.40 47.80 66.95 49.53Q67.50 51.25 68.97 51.25Q70.45 51.25 71.53 49.95Q72.60 48.65 72.60 46.10L72.60 35.20Q72.60 33.05 71.75 31.55Q70.90 30.05 69.25 30.05Q67.60 30.05 67 32.25Q66.40 34.45 66.40 39.95L66.40 42.55M73.25 52.90L72.70 49.40Q71 53.40 65.80 53.40Q61.50 53.40 59.13 50.30Q56.75 47.20 56.75 41.05Q56.75 28.60 66.65 28.60Q71.05 28.60 72.45 31.05L72.45 16.30L69.40 16.30L69.40 15.40L81.90 15.40L81.90 52.00L84.35 52.00L84.35 52.90L73.25 52.90ZM97.65 41.15L99.10 41.15L99.10 37.30Q99.10 32.55 98.58 30.93Q98.05 29.30 96.55 29.30Q95.65 29.30 94.93 29.78Q94.20 30.25 94.20 31.08Q94.20 31.90 94.50 32.75L95.75 32.75Q96.15 33.80 96.15 35.28Q96.15 36.75 94.90 37.83Q93.65 38.90 91.75 38.90Q87.45 38.90 87.45 34.75Q87.45 28.60 97.90 28.60Q103.85 28.60 106.13 30.63Q108.40 32.65 108.40 38.05L108.40 48.20Q108.40 50.80 109.85 50.80Q111.55 50.80 111.85 45.65L112.60 45.70Q112.40 50.10 110.95 51.75Q109.50 53.40 106.20 53.40Q100.20 53.40 99.30 49.70Q98.65 51.60 97.35 52.50Q96.05 53.40 93.55 53.40Q86.15 53.40 86.15 47.35Q86.15 43.80 88.98 42.48Q91.80 41.15 97.65 41.15M95.65 47.30Q95.65 49.90 95.93 50.65Q96.20 51.40 96.98 51.40Q97.75 51.40 98.43 50.13Q99.10 48.85 99.10 46.60L99.10 41.95L98.75 41.95Q95.65 41.95 95.65 46.50L95.65 47.30ZM113.20 29.10L125.25 29.10L125.25 33.70Q126.05 31.40 127.70 30.00Q129.35 28.60 132.70 28.60Q140.45 28.60 140.45 36.95L140.45 52.00L143.25 52.00L143.25 52.90L129.10 52.90L129.10 52.00L131.15 52.00L131.15 35.75Q131.15 32.75 130.75 31.88Q130.35 31.00 129.30 31.00Q127.70 31.00 126.48 33.10Q125.25 35.20 125.25 38.20L125.25 52.00L127.40 52.00L127.40 52.90L113.20 52.90L113.20 52.00L115.95 52.00L115.95 30.00L113.20 30.00L113.20 29.10ZM146.15 45.75L146.15 30.00L143.40 30.00L143.40 29.10L146.15 29.10L146.15 22.65L155.45 20.35L155.45 29.10L161.95 29.10L161.95 30.00L155.45 30.00L155.45 46.85Q155.45 49.20 155.93 50.30Q156.40 51.40 157.90 51.40Q159.40 51.40 160.53 49.90Q161.65 48.40 162 45.80L162.85 45.90Q162.45 49.35 160.65 51.38Q158.85 53.40 154.70 53.40Q150.55 53.40 148.35 51.75Q146.15 50.10 146.15 45.75ZM169.43 53.40Q169.43 53.40 168.34 53.40Q167.25 53.40 166.18 52.13Q165.10 50.85 165.10 49.03Q165.10 47.20 166.23 45.95Q167.35 44.70 169.40 44.70Q171.45 44.70 172.65 45.75Q173.85 46.80 173.85 48.90Q173.85 51.00 172.73 52.20Q171.60 53.40 169.43 53.40ZM192.65 29.10L192.65 48.60Q192.65 56.80 189.83 61.10Q187.00 65.40 180.60 65.40Q176.45 65.40 174.53 63.75Q172.60 62.10 172.60 59.90Q172.60 57.70 173.90 56.53Q175.20 55.35 177.15 55.35Q179.10 55.35 180.08 56.43Q181.05 57.50 181.05 58.80Q181.05 60.10 180.75 61.30L178.85 61.30Q178.05 62.65 178.63 63.60Q179.20 64.55 180.73 64.55Q182.25 64.55 182.80 62.83Q183.35 61.10 183.35 55.70L183.35 30.00L180.10 30.00L180.10 29.10L192.65 29.10M187.90 25.65Q187.90 25.65 186.58 25.65Q185.25 25.65 184.13 24.30Q183.00 22.95 183.00 20.95Q183.00 18.95 184.23 17.65Q185.45 16.35 187.95 16.35Q190.45 16.35 191.75 17.53Q193.05 18.70 193.05 20.88Q193.05 23.05 191.80 24.35Q190.55 25.65 187.90 25.65ZM196.95 53.40L196.95 44.45L197.55 44.45Q198.85 48.80 201.05 50.55Q203.25 52.30 206.55 52.30Q211.65 52.30 211.65 49.05Q211.65 47.65 210.40 46.95Q208.45 45.85 205.40 45.25Q202.00 44.35 199.70 42.85Q196.95 41.05 196.95 37.15Q196.95 33.25 199.35 30.93Q201.75 28.60 205.75 28.60Q208.20 28.60 210.80 29.75Q211.75 30.15 212.25 30.15Q212.75 30.15 213.10 29.80Q213.45 29.45 213.95 28.50L214.50 28.50L214.50 36.15L213.90 36.15Q211.35 29.65 206.00 29.65Q203.65 29.65 202.50 30.48Q201.35 31.30 201.35 32.55Q201.35 33.30 201.70 33.73Q202.05 34.15 202.25 34.35Q202.45 34.55 202.90 34.78Q203.35 35 203.65 35.13Q203.95 35.25 204.58 35.45Q205.20 35.65 205.50 35.70Q208.90 36.55 210.40 37.18Q211.90 37.80 213.25 38.70Q216.00 40.60 216.00 44.83Q216.00 49.05 213.50 51.23Q211.00 53.40 206.65 53.40Q203.55 53.40 200.65 51.95Q200.05 51.55 199.70 51.55Q198.60 51.55 197.55 53.40L196.95 53.40ZM235.35 38.15L241.25 30.00L237.65 30.00L237.65 29.10L245.10 29.10L245.10 30.00L242.50 30.00L236.00 39.20L244.15 52.00L246.75 52.00L246.75 52.90L230.05 52.90L230.05 52.00L233.60 52.00L228.10 43.00L222.40 52.00L225.70 52.00L225.70 52.90L217.85 52.90L217.85 52.00L221.15 52.00L227.50 42.00L219.90 30.00L217.00 30.00L217.00 29.10L233.90 29.10L233.90 30.00L230.40 30.00L235.35 38.15Z"/></g></g></svg>
        </div>
      </div>

      <Suspense fallback={<></>}>
        <main
          onLoad={() => HandleContentLoaded()}
          className="page overflow-x-hidden scroll-smooth "
        >
          <ScrollWatcher></ScrollWatcher>
          <div className="page">
            <Hero />

            {!isMobile && <div className="page" />}
            {!isMobile && <div className="page" />}
            {!isMobile && <div className="page" />}
          </div>
          <div className="page">
            <Features />
          </div>
          <div className="slider-container w-screen min-h-[50vh] max-h-[60vh] flex flex-col place-content-center mt-20 p-6">
            <h1 className="text-3xl max-md:text-xl font-bold text-center p-8 text-blue-700">
              The Mindset, The skills &quot;You&apos;re looking for&quot;
            </h1>
            <Tools />
          </div>

          <div className="project-container page mt-64">
            <Project />
          </div>

        
        <GithubContribution />
          
          <Footer />
        </main>
      </Suspense>
    </>
  );
}

export default App;
